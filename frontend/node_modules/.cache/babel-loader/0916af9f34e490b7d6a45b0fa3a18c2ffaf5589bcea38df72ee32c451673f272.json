{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateUser=function CreateUser(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),deviceName=_useState4[0],setDeviceName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];// State variable for the response message\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),messageType=_useState8[0],setMessageType=_useState8[1];// State variable for the message type\nvar handleCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,text;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"Creating user: \".concat(userName,\" with device: \").concat(deviceName));_context.prev=1;_context.next=4;return fetch('https://localhost:7164/api/User/Add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userName:userName,deviceName:deviceName}),credentials:'include'});case 4:response=_context.sent;_context.next=7;return response.text();case 7:text=_context.sent;if(text==='Successful user update'){console.log('User created successfully');setMessageType('success');}else{console.error('Failed to create user');setMessageType('danger');}setMessage(text);_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.error('An error occurred:',_context.t0);setMessageType('danger');setMessage('An error occurred while creating the user');case 17:_context.prev=17;setUserName('');setDeviceName('');return _context.finish(17);case 21:case\"end\":return _context.stop();}},_callee,null,[[1,12,17,21]]);}));return function handleCreate(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Create User\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-\".concat(messageType),role:\"alert\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userName,onChange:function onChange(e){return setUserName(e.target.value);},className:\"form-control\",placeholder:\"Create new user...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deviceName,onChange:function onChange(e){return setDeviceName(e.target.value);},className:\"form-control mt-2\",placeholder:\"Enter device name...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,className:\"btn btn-outline-primary\",children:\"Create\"})})]})]});};export default CreateUser;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","CreateUser","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","deviceName","setDeviceName","_useState5","_useState6","message","setMessage","_useState7","_useState8","messageType","setMessageType","handleCreate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","text","wrap","_callee$","_context","prev","next","console","log","concat","fetch","method","headers","body","JSON","stringify","credentials","sent","error","t0","finish","stop","apply","arguments","className","children","role","type","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/src/Components/CreateUser.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst CreateUser: React.FC = () => {\r\n  const [userName, setUserName] = useState('');\r\n  const [deviceName, setDeviceName] = useState(''); \r\n  const [message, setMessage] = useState(''); // State variable for the response message\r\n  const [messageType, setMessageType] = useState(''); // State variable for the message type\r\n\r\n  const handleCreate = async () => {\r\n    console.log(`Creating user: ${userName} with device: ${deviceName}`);\r\n  \r\n    try {\r\n      const response = await fetch('https://localhost:7164/api/User/Add', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ userName, deviceName }), \r\n        credentials: 'include',\r\n      });\r\n  \r\n      const text = await response.text();\r\n  \r\n      if (text === 'Successful user update') {\r\n        console.log('User created successfully');\r\n        setMessageType('success');\r\n      } else {\r\n        console.error('Failed to create user');\r\n        setMessageType('danger');\r\n      }\r\n  \r\n      setMessage(text);\r\n  \r\n    } catch (error) {\r\n      console.error('An error occurred:', error);\r\n      setMessageType('danger');\r\n      setMessage('An error occurred while creating the user');\r\n    } finally {\r\n      setUserName('');\r\n      setDeviceName('');\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"card p-3\">\r\n      <h2 className=\"mb-3\">Create User</h2>\r\n\r\n      {/* Display the response message in an alert */}\r\n      {message && (\r\n        <div className={`alert alert-${messageType}`} role=\"alert\">\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"input-group\">\r\n        <input \r\n          type=\"text\" \r\n          value={userName} \r\n          onChange={e => setUserName(e.target.value)} \r\n          className=\"form-control\"\r\n          placeholder=\"Create new user...\"\r\n        />\r\n        <input \r\n          type=\"text\" \r\n          value={deviceName} \r\n          onChange={e => setDeviceName(e.target.value)} \r\n          className=\"form-control mt-2\"\r\n          placeholder=\"Enter device name...\"\r\n        />\r\n        <div className=\"input-group-append\">\r\n          <button onClick={handleCreate} className=\"btn btn-outline-primary\">Create</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateUser;\r\n"],"mappings":"qdAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,UAAoB,CAAG,QAAvB,CAAAA,UAAoBA,CAAA,CAAS,CACjC,IAAAC,SAAA,CAAgCN,QAAQ,CAAC,EAAE,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAoCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAA8Bf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAAkB;AAC5C,IAAAG,UAAA,CAAsCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAAkB;AAEpD,GAAM,CAAAG,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBC,OAAO,CAACC,GAAG,mBAAAC,MAAA,CAAmB7B,QAAQ,mBAAA6B,MAAA,CAAiBzB,UAAU,CAAE,CAAC,CAACoB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG5C,CAAAI,KAAK,CAAC,qCAAqC,CAAE,CAClEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEnC,QAAQ,CAARA,QAAQ,CAAEI,UAAU,CAAVA,UAAW,CAAC,CAAC,CAC9CgC,WAAW,CAAE,SACf,CAAC,CAAC,QAPIhB,QAAQ,CAAAI,QAAA,CAAAa,IAAA,CAAAb,QAAA,CAAAE,IAAA,SASK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAa,IAAA,CAEV,GAAIhB,IAAI,GAAK,wBAAwB,CAAE,CACrCM,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CACxCf,cAAc,CAAC,SAAS,CAAC,CAC3B,CAAC,IAAM,CACLc,OAAO,CAACW,KAAK,CAAC,uBAAuB,CAAC,CACtCzB,cAAc,CAAC,QAAQ,CAAC,CAC1B,CAEAJ,UAAU,CAACY,IAAI,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAGjBG,OAAO,CAACW,KAAK,CAAC,oBAAoB,CAAAd,QAAA,CAAAe,EAAO,CAAC,CAC1C1B,cAAc,CAAC,QAAQ,CAAC,CACxBJ,UAAU,CAAC,2CAA2C,CAAC,CAAC,QAAAe,QAAA,CAAAC,IAAA,IAExDxB,WAAW,CAAC,EAAE,CAAC,CACfI,aAAa,CAAC,EAAE,CAAC,CAAC,OAAAmB,QAAA,CAAAgB,MAAA,8BAAAhB,QAAA,CAAAiB,IAAA,MAAAtB,OAAA,uBAErB,kBAjCK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAA2B,KAAA,MAAAC,SAAA,OAiCjB,CAGD,mBACEhD,KAAA,QAAKiD,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBpD,IAAA,OAAImD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,CAGpCrC,OAAO,eACNf,IAAA,QAAKmD,SAAS,gBAAAf,MAAA,CAAiBjB,WAAW,CAAG,CAACkC,IAAI,CAAC,OAAO,CAAAD,QAAA,CACvDrC,OAAO,CACL,CACN,cAEDb,KAAA,QAAKiD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpD,IAAA,UACEsD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEhD,QAAS,CAChBiD,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAjD,WAAW,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC3CJ,SAAS,CAAC,cAAc,CACxBQ,WAAW,CAAC,oBAAoB,CACjC,CAAC,cACF3D,IAAA,UACEsD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE5C,UAAW,CAClB6C,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAA7C,aAAa,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC7CJ,SAAS,CAAC,mBAAmB,CAC7BQ,WAAW,CAAC,sBAAsB,CACnC,CAAC,cACF3D,IAAA,QAAKmD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCpD,IAAA,WAAQ4D,OAAO,CAAEvC,YAAa,CAAC8B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC/E,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}