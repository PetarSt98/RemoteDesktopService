{"ast":null,"code":"import _slicedToArray from\"C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// App.tsx\nimport React,{useState}from'react';import Keycloak from'keycloak-js';import'bootstrap/dist/css/bootstrap.min.css';import UserSearch from'./Components/UserSearch';import CreateUser from'./Components/CreateUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initOptions={url:'https://auth.cern.ch/auth',realm:'cern',clientId:'sso-example',redirectUri:'http://localhost:3000'};var keycloak=Keycloak(initOptions);var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var login=function login(){keycloak.init({onLoad:'login-required'}).then(function(authenticated){if(authenticated){var _keycloak$tokenParsed;setAuth(true);setUsername(((_keycloak$tokenParsed=keycloak.tokenParsed)===null||_keycloak$tokenParsed===void 0?void 0:_keycloak$tokenParsed.preferred_username)||'');}else{setAuth(false);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-3 mb-2 fixed-top w-100\",style:{background:'black',color:'white'},children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{float:'right'},children:[!auth&&/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"btn btn-primary mr-2\",style:{background:'black',color:'white',border:'none',height:'100%'},children:\"Login\"}),auth&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-2\",children:[\"Hello, \",username]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return keycloak.logout();},className:\"btn btn-secondary\",style:{background:'black',color:'white',border:'none',height:'100%'},children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5 mt-5\",style:{background:'#f5f8fa'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-5 text-primary\",children:\"User Device Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(UserSearch,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(CreateUser,{})})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","Keycloak","UserSearch","CreateUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initOptions","url","realm","clientId","redirectUri","keycloak","App","_useState","_useState2","_slicedToArray","auth","setAuth","_useState3","_useState4","username","setUsername","login","init","onLoad","then","authenticated","_keycloak$tokenParsed","tokenParsed","preferred_username","children","className","style","background","color","float","onClick","border","height","logout"],"sources":["C:/Users/pstojkov/Downloads/remotedesktopservicefrontend/frontend/src/App.tsx"],"sourcesContent":["// App.tsx\r\nimport React, { useState } from 'react';\r\nimport Keycloak from 'keycloak-js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport UserSearch from './Components/UserSearch';\r\nimport DeviceList from './Components/DeviceList';\r\nimport CreateUser from './Components/CreateUser';\r\n\r\nconst initOptions = {\r\n  url: 'https://auth.cern.ch/auth',\r\n  realm: 'cern',\r\n  clientId: 'sso-example',\r\n  redirectUri: 'http://localhost:3000',\r\n};\r\n\r\nlet keycloak = Keycloak(initOptions);\r\n\r\nconst App: React.FC = () => {\r\n  const [auth, setAuth] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n\r\n  const login = () => {\r\n    keycloak.init({ onLoad: 'login-required' }).then((authenticated) => {\r\n      if (authenticated) {\r\n        setAuth(true);\r\n        setUsername(keycloak.tokenParsed?.preferred_username || '');\r\n      } else {\r\n        setAuth(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"py-3 mb-2 fixed-top w-100\" style={{ background: 'black', color: 'white' }}>\r\n        <div className=\"container\">\r\n          <div style={{ float: 'right' }}>\r\n            {!auth && (\r\n              <button onClick={login} className=\"btn btn-primary mr-2\" style={{ background: 'black', color: 'white', border: 'none', height: '100%' }}>Login</button>\r\n            )}\r\n            {auth && (\r\n              <>\r\n                <span className=\"mr-2\">Hello, {username}</span>\r\n                <button onClick={() => keycloak.logout()} className=\"btn btn-secondary\" style={{ background: 'black', color: 'white', border: 'none', height: '100%' }}>Logout</button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container py-5 mt-5\" style={{ background: '#f5f8fa' }}>\r\n        <h1 className=\"text-center mb-5 text-primary\">User Device Management</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <UserSearch />\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <CreateUser />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}